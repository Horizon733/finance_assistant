version: "3.1"

intents:
  - greet
  - goodbye
  - affirm
  - deny
  - ask_credit_card_statement
  - ask_mini_statement
  - ask_account_balance
  - ask_bill_pay
  - ask_transfer_money

entities:
- email
- amount-of-money

slots:
  email:
    type: text
    influence_conversation: false
    mappings:
      type: from_entity
      entity: email
  amount:
    type: text
    influence_conversation: false
    mappings:
      type: from_entity
      entity: amount-of-money
  confirm_amount:
    type: text
    influence_conversation: false
    mappings:
    - type: from_intent
      intent: affirm
      value: yes
    - type: from_intent
      intent: deny
      value: no
responses:
  utter_greet:
  - text: "Hey! How are you?"

  utter_goodbye:
  - text: "Bye"

  utter_ask_email:
    - text: Can you please provide your email address to look up your data?

  utter_ask_transfer_form_amount:
    - text: To transfer money, how much amount would you like to transfer?

  utter_confirm_amount:
    - text: Current bill amount is {bill_amount}, would you like to pay all?

actions:
  - action_ask_bill_pay_confirm_amount
  - validate_transfer_form
  - validate_bill_pay_form
  - action_show_credit_card_statement
  - action_show_mini_statement
  - action_show_balance
forms:
  transfer_form:
    required_slots:
      - email
      - amount
  bill_pay_form:
      - email
      - confirm_amount

session_config:
  session_expiration_time: 60
  carry_over_slots_to_new_session: true
